---
layout : post
title : pandas 정리-1
subtitle : pandas 정리-1
category : 프로그래밍 언어 공부
tags : python
date : 2019-04-22 08:01:00
---

# Pandas에서 제공하는 대표적인 자료구조

(1) Series  
(2) Dataframe (Table)

## Series

- 값 + 인덱스


```python
import numpy as np
import pandas as pd
```

### series 정의 방법

시리즈는 pd.Seiries(집합형자료형)으로  정의할 수 있다.  
밑에는 리스트로 정의를 해보았다.



```python
s = pd.Series((12345, 23456, 45673, 203848))
print(s)
```

    0     12345
    1     23456
    2     45673
    3    203848
    dtype: int64


결과를 보면 자동적으로 index가 0부터 나오는 것을 알 수 있다.



```python
## 인덱스를 내 맘대로 정할 수 있다.
s = pd.Series([12345, 23456, 45673, 203848], index = ['서울', '부산', '인천', '대구'])
## 값만 따로 출력할 수도 있고
print(s.values)
## 인덱스만 따로 출력할 수도 있다.
print(s.index)
## 전체 시리즈의 이름을 줄 수 있다.
s.name = '인구'
## 이렇게 인덱스에도 이름을 따로 줄 수 있다.
s.index.name = '도시'
s
```

    [ 12345  23456  45673 203848]
    Index(['서울', '부산', '인천', '대구'], dtype='object')





    도시
    서울     12345
    부산     23456
    인천     45673
    대구    203848
    Name: 인구, dtype: int64




```python
# 연산
## 데이터프레임 전체를 연산하면 하나하나의 수치형 변수값에 일일이 다 들어간다.
s1 = s/100000
s1
```




    도시
    서울    0.12345
    부산    0.23456
    인천    0.45673
    대구    2.03848
    Name: 인구, dtype: float64




```python
## 인덱싱
## 리스트와 독같이 첫번째 시작점을 0부터 시작하여 인덱싱 할 수도 있고 별도의 인덱싱을 한 이름으로도 출력할 수 있다.
print(s[1], s['부산'],'\n')
## 여러 인덱스를 동시에 부를 수도 있는데 주의할 점은 대괄호를 2번 넣어야 한다.
print(s[[0,3,1]], s[['서울', '대구', '부산']],'\n')
## 나올 변수들에 대해서 조건을 달 수도 있다. 이때는 소괄호를 사용한다.
print(s[(250e4<s) & (s<500e4)],'\n')
## 슬라이싱을 할 수 있다.
print(s[1:3],'\n')
## 별도의 인덱스를 가지고도 슬라이싱 가능 부산이랑 대구 사이에 모든 도시가 다 나온다.
print(s['부산' : '대구'],'\n')
## s를 객체로 생각하고 인덱스들을 객체의 매서드라고 생각해도 된다.
print(s.부산, ',', s.서울,'\n')
```

    23456 23456

    도시
    서울     12345
    대구    203848
    부산     23456
    Name: 인구, dtype: int64 도시
    서울     12345
    대구    203848
    부산     23456
    Name: 인구, dtype: int64

    Series([], Name: 인구, dtype: int64)

    도시
    부산    23456
    인천    45673
    Name: 인구, dtype: int64

    도시
    부산     23456
    인천     45673
    대구    203848
    Name: 인구, dtype: int64

    23456 , 12345




```python
## Series 와 dict
## dict의 활용법을 다 쓸 수 있다.

## 딕셔녀리의 키값을 묻는 것과 같이 s에 서울이라는 index가 있냐고 물을 수 있음
print('서울' in s,'\n')
print('대전' in s, '\n')

## dict의 키값과 밸류를 동시에 for문을 돌릴 수 있는 것 처럼 인덱스와 밸류값을 동시에 for문을 돌릴 수 있음..
## 이 때 인덱스와 밸류를 동시에 뽑아내는 매서드는 items.
for k, v in s.items():
    print(k,v)
print('\n')

## 딕셔너리를 시리즈에 집어넣으면 바로 데이터프레임으로 만들어 준다.
## 특이한 점은 딕셔녀리에는 순서가 없기 때문에 밑의 순서로 넣더라도 데이터프레임에는 순서가 뒤죽박죽이 된다.
## 만약 순서를 정해주고 싶다면 위에서 시리즈 정의해줄 대 하는 것 처럼 index를 정해주는 것 처럼 index를 정해준다.
s2 = pd.Series({'서울' : 1, '부산' : 2, '인천' : 3, '대천' : 4}, index = ['인천', '대천', '부산', '서울'])
s2

```

    True

    False

    서울 12345
    부산 23456
    인천 45673
    대구 203848







    인천    3
    대천    4
    부산    2
    서울    1
    dtype: int64




```python
## 인덱스 기반 연산
ds = s-s2 ## 인덱스가 두 데이터프레임중 하나라도 없게 되면 그 값은 nan값으로 출력
print(ds,'\n')

## 밸류들만 가지고 연산을 하게되면 인덱스가 없으므로 첫번째 부터 순서애로 연산이 진행된다.
print(s.values - s2.values)

## 연산을 했는데 nan들은 빼고 출력하고 싶으면
print(ds[ds.notnull()],'\n') ## ds.notnull은 null값이면 false, null값이 아니면 true를 출력해주는 함수


```

    대구        NaN
    대천        NaN
    부산    23454.0
    서울    12344.0
    인천    45670.0
    dtype: float64

    [ 12342  23452  45671 203847]
    부산    23454.0
    서울    12344.0
    인천    45670.0
    dtype: float64




```python
## 데이터의 추가, 갱신, 삭제
## 수정하고 싶으면 별도의 매서드 필요없이 수정하고 싶은 index에 값을 넣어주면 된다.
ds['부산'] = 1.53
print(ds, '\n')

## 추가하고 싶어도 마찬가지로 매서드 없이 추가하고 싶은 index를 대괄호 안에 넣고 값을 넣어주면 된다.
ds ['영천'] = 1.23
print(ds, '\n')

## 삭제는 del을 사용
del ds['영천']
ds
```

    대구         NaN
    대천         NaN
    부산        1.53
    서울    12344.00
    인천    45670.00
    dtype: float64

    대구         NaN
    대천         NaN
    부산        1.53
    서울    12344.00
    인천    45670.00
    영천        1.23
    dtype: float64






    대구         NaN
    대천         NaN
    부산        1.53
    서울    12344.00
    인천    45670.00
    dtype: float64



## Dataframe




```python
## 여러가지의 시리즈를 테이블형식으로 정의하는 것
data = {
    "2015": [9904312, 3448737, 2890451, 2466052],
    "2010": [9631482, 3393191, 2632035, 2431774],
    "2005": [9762546, 3512547, 2517680, 2456016],
    "2000": [9853972, 3655437, 2466338, 2473990],
    "지역": ["수도권", "경상권", "수도권", "경상권"],
    "2010-2015 증가율": [0.0283, 0.0163, 0.0982, 0.0141]
}

## 데이터프레임 정의하는 방법
df = pd. DataFrame(data)
# print로 하면 데이터프레임 형식이 안나오므로
display(df)

## 딕셔너리의 키값이 열의 이름으로 나오게 된다.
## 데이터프레임의 칼럼 이름을 colums를 이용해서 넣을 수 있다.
df = pd.DataFrame(data, columns = ['지역', '2015', '2010', '2005', '2000', '2010-2015 증가율']) ## 인덱스에 맞게 값들이 알아서 들어간다.
display(df)

## 행의 이름도 넣을 수 있는데 이는 index를 이용해서 넣을 수 있다.
df = pd.DataFrame(data, columns = ['지역', '2015', '2010', '2005', '2000', '2010-2015 증가율'], index = ['서울' , '대구', '인천', '영천'])
display(df)

df['지역']
```


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2000</th>
      <th>2005</th>
      <th>2010</th>
      <th>2010-2015 증가율</th>
      <th>2015</th>
      <th>지역</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9853972</td>
      <td>9762546</td>
      <td>9631482</td>
      <td>0.0283</td>
      <td>9904312</td>
      <td>수도권</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3655437</td>
      <td>3512547</td>
      <td>3393191</td>
      <td>0.0163</td>
      <td>3448737</td>
      <td>경상권</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2466338</td>
      <td>2517680</td>
      <td>2632035</td>
      <td>0.0982</td>
      <td>2890451</td>
      <td>수도권</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2473990</td>
      <td>2456016</td>
      <td>2431774</td>
      <td>0.0141</td>
      <td>2466052</td>
      <td>경상권</td>
    </tr>
  </tbody>
</table>
</div>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역</th>
      <th>2015</th>
      <th>2010</th>
      <th>2005</th>
      <th>2000</th>
      <th>2010-2015 증가율</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>수도권</td>
      <td>9904312</td>
      <td>9631482</td>
      <td>9762546</td>
      <td>9853972</td>
      <td>0.0283</td>
    </tr>
    <tr>
      <th>1</th>
      <td>경상권</td>
      <td>3448737</td>
      <td>3393191</td>
      <td>3512547</td>
      <td>3655437</td>
      <td>0.0163</td>
    </tr>
    <tr>
      <th>2</th>
      <td>수도권</td>
      <td>2890451</td>
      <td>2632035</td>
      <td>2517680</td>
      <td>2466338</td>
      <td>0.0982</td>
    </tr>
    <tr>
      <th>3</th>
      <td>경상권</td>
      <td>2466052</td>
      <td>2431774</td>
      <td>2456016</td>
      <td>2473990</td>
      <td>0.0141</td>
    </tr>
  </tbody>
</table>
</div>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역</th>
      <th>2015</th>
      <th>2010</th>
      <th>2005</th>
      <th>2000</th>
      <th>2010-2015 증가율</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>서울</th>
      <td>수도권</td>
      <td>9904312</td>
      <td>9631482</td>
      <td>9762546</td>
      <td>9853972</td>
      <td>0.0283</td>
    </tr>
    <tr>
      <th>대구</th>
      <td>경상권</td>
      <td>3448737</td>
      <td>3393191</td>
      <td>3512547</td>
      <td>3655437</td>
      <td>0.0163</td>
    </tr>
    <tr>
      <th>인천</th>
      <td>수도권</td>
      <td>2890451</td>
      <td>2632035</td>
      <td>2517680</td>
      <td>2466338</td>
      <td>0.0982</td>
    </tr>
    <tr>
      <th>영천</th>
      <td>경상권</td>
      <td>2466052</td>
      <td>2431774</td>
      <td>2456016</td>
      <td>2473990</td>
      <td>0.0141</td>
    </tr>
  </tbody>
</table>
</div>





    서울    수도권
    대구    경상권
    인천    수도권
    영천    경상권
    Name: 지역, dtype: object




```python
## 열 데이터에서 갱신, 추가, 삭제

## 수정
## series와 똑같은 방법
df['2010'] = df['2010']*100

## 추가
## series와 똑같은 방법

df['2005-2010 증가율'] = ((df['2010'] - df['2015'])/ df['2005']*100).round(2)
display(df)

##삭제
##series와 똑같음

del df['2005']

```


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역</th>
      <th>2015</th>
      <th>2010</th>
      <th>2005</th>
      <th>2000</th>
      <th>2010-2015 증가율</th>
      <th>2005-2010 증가율</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>서울</th>
      <td>수도권</td>
      <td>9904312</td>
      <td>963148200</td>
      <td>9762546</td>
      <td>9853972</td>
      <td>0.0283</td>
      <td>9764.30</td>
    </tr>
    <tr>
      <th>대구</th>
      <td>경상권</td>
      <td>3448737</td>
      <td>339319100</td>
      <td>3512547</td>
      <td>3655437</td>
      <td>0.0163</td>
      <td>9562.02</td>
    </tr>
    <tr>
      <th>인천</th>
      <td>수도권</td>
      <td>2890451</td>
      <td>263203500</td>
      <td>2517680</td>
      <td>2466338</td>
      <td>0.0982</td>
      <td>10339.40</td>
    </tr>
    <tr>
      <th>영천</th>
      <td>경상권</td>
      <td>2466052</td>
      <td>243177400</td>
      <td>2456016</td>
      <td>2473990</td>
      <td>0.0141</td>
      <td>9800.89</td>
    </tr>
  </tbody>
</table>
</div>



```python
## 열 인덱싱
df ['지역'] ## series
df[['지역']] ## series라도 데이터프레임으로 뽑고 싶으면 대괄호를 두 번 해준다.

## 열 2개를 추출할 때 데이터프레임으로 하고 싶으면 series랑 똑같은데 대괄호를 2번 써라
df[["2010", "2000"]]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2010</th>
      <th>2000</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>서울</th>
      <td>963148200</td>
      <td>9853972</td>
    </tr>
    <tr>
      <th>대구</th>
      <td>339319100</td>
      <td>3655437</td>
    </tr>
    <tr>
      <th>인천</th>
      <td>263203500</td>
      <td>2466338</td>
    </tr>
    <tr>
      <th>영천</th>
      <td>243177400</td>
      <td>2473990</td>
    </tr>
  </tbody>
</table>
</div>




```python
## 행 인덱싱(반드시 :으로 슬라이싱)
df[:1]
df[1:2]
df[:'서울'] ## :없이 진행하면 column으로 인식하므로 :이 꼭 필요하다.
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역</th>
      <th>2015</th>
      <th>2010</th>
      <th>2000</th>
      <th>2010-2015 증가율</th>
      <th>2005-2010 증가율</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>서울</th>
      <td>수도권</td>
      <td>9904312</td>
      <td>963148200</td>
      <td>9853972</td>
      <td>0.0283</td>
      <td>9764.3</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 개별 데이터 인덱싱

## 일반 배열과 달리 열을 먼저쓰고 그 다음에 행으로 접근한다.
df['2015']['서울']

## transpose
df.T

```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>서울</th>
      <th>대구</th>
      <th>인천</th>
      <th>영천</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>지역</th>
      <td>수도권</td>
      <td>경상권</td>
      <td>수도권</td>
      <td>경상권</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>9904312</td>
      <td>3448737</td>
      <td>2890451</td>
      <td>2466052</td>
    </tr>
    <tr>
      <th>2010</th>
      <td>963148200</td>
      <td>339319100</td>
      <td>263203500</td>
      <td>243177400</td>
    </tr>
    <tr>
      <th>2000</th>
      <td>9853972</td>
      <td>3655437</td>
      <td>2466338</td>
      <td>2473990</td>
    </tr>
    <tr>
      <th>2010-2015 증가율</th>
      <td>0.0283</td>
      <td>0.0163</td>
      <td>0.0982</td>
      <td>0.0141</td>
    </tr>
    <tr>
      <th>2005-2010 증가율</th>
      <td>9764.3</td>
      <td>9562.02</td>
      <td>10339.4</td>
      <td>9800.89</td>
    </tr>
  </tbody>
</table>
</div>



### 연습문제


```python
data = {
    '국어' : [80,90,70,20],
    '수학' : [90,70,60,40],
    '영어' : [20,70,80,90]

}
columns = ['국어', '영어', '수학']
index = ['춘향', '몽룡', '향단', '방자']
df = pd.DataFrame(data, index = index, columns = columns)
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>영어</th>
      <th>수학</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>춘향</th>
      <td>80</td>
      <td>20</td>
      <td>90</td>
    </tr>
    <tr>
      <th>몽룡</th>
      <td>90</td>
      <td>70</td>
      <td>70</td>
    </tr>
    <tr>
      <th>향단</th>
      <td>70</td>
      <td>80</td>
      <td>60</td>
    </tr>
    <tr>
      <th>방자</th>
      <td>20</td>
      <td>90</td>
      <td>40</td>
    </tr>
  </tbody>
</table>
</div>



### 1. 모든 학생의 수학 점수를 Series로 나타내시오




```python
## 1. 모든 학생의 수학 점수를 series로 나타내시오
df1 = df['수학']
display(df1)

## 2. 모든 학생의 국어와 영ㅇ 점수를 데이터 프레임으로 나타내시오
df2 = df[['국어', '영어']]
display(df2)

##3. 모든 학생의 각 과목 평균 점수를 새로운 열로 추가하시오.
df['평균점수'] = (df['국어']+df['영어']+df['수학'])/3
display(df)

## 4. 방자의 영어 점수를 80점으로 수정하고 평균 점수도 다시 계산하시오
df['영어']['방자'] = 80
df['평균점수'] = (df['국어']+df['영어']+df['수학'])/3
display(df)

## 5. 춘향의 점수를 데이터 프레임으로 나타내시오.
df[:'춘향']

## 6. 향단의 점수를 시리즈로 나타내시오.
df.T['향단']
```


    춘향    90
    몽룡    70
    향단    60
    방자    40
    Name: 수학, dtype: int64



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>영어</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>춘향</th>
      <td>80</td>
      <td>20</td>
    </tr>
    <tr>
      <th>몽룡</th>
      <td>90</td>
      <td>70</td>
    </tr>
    <tr>
      <th>향단</th>
      <td>70</td>
      <td>80</td>
    </tr>
    <tr>
      <th>방자</th>
      <td>20</td>
      <td>90</td>
    </tr>
  </tbody>
</table>
</div>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>영어</th>
      <th>수학</th>
      <th>평균점수</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>춘향</th>
      <td>80</td>
      <td>20</td>
      <td>90</td>
      <td>63.333333</td>
    </tr>
    <tr>
      <th>몽룡</th>
      <td>90</td>
      <td>70</td>
      <td>70</td>
      <td>76.666667</td>
    </tr>
    <tr>
      <th>향단</th>
      <td>70</td>
      <td>80</td>
      <td>60</td>
      <td>70.000000</td>
    </tr>
    <tr>
      <th>방자</th>
      <td>20</td>
      <td>90</td>
      <td>40</td>
      <td>50.000000</td>
    </tr>
  </tbody>
</table>
</div>


    c:\users\administrator\appdata\local\programs\python\python35\lib\site-packages\ipykernel_launcher.py:14: SettingWithCopyWarning:
    A value is trying to be set on a copy of a slice from a DataFrame

    See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>영어</th>
      <th>수학</th>
      <th>평균점수</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>춘향</th>
      <td>80</td>
      <td>20</td>
      <td>90</td>
      <td>63.333333</td>
    </tr>
    <tr>
      <th>몽룡</th>
      <td>90</td>
      <td>70</td>
      <td>70</td>
      <td>76.666667</td>
    </tr>
    <tr>
      <th>향단</th>
      <td>70</td>
      <td>80</td>
      <td>60</td>
      <td>70.000000</td>
    </tr>
    <tr>
      <th>방자</th>
      <td>20</td>
      <td>80</td>
      <td>40</td>
      <td>46.666667</td>
    </tr>
  </tbody>
</table>
</div>





    국어      70.0
    영어      80.0
    수학      60.0
    평균점수    70.0
    Name: 향단, dtype: float64




```python
data = {
    '국어' : [80,90,70,20],
    '수학' : [90,70,60,40],
    '영어' : [20,70,80,90]

}
columns = ['국어', '영어', '수학']
index = ['춘향', '몽룡', '향단', '방자']
df = pd.DataFrame(data, index = index, columns = columns)
df
display(df['국어'])
display(df['영어'])
display(df['수학'])
df2 = df['국어'] +df['영어']+df['수학']
display(df2)


```


    춘향    80
    몽룡    90
    향단    70
    방자    20
    Name: 국어, dtype: int64



    춘향    20
    몽룡    70
    향단    80
    방자    90
    Name: 영어, dtype: int64



    춘향    90
    몽룡    70
    향단    60
    방자    40
    Name: 수학, dtype: int64



    춘향    190
    몽룡    230
    향단    210
    방자    150
    dtype: int64


## 데이터 입출력
   csv, excel, html, jason, hdfs, sas,stata, sql, ...


```python
%%writefile sample1.csv
c1,c2,c3
1,1.11,one
2,2.22,two
3,3.33,three
```

    Overwriting sample1.csv


주의 : 매직라인에는 밑에는 주석이 먹히지 않는다. 쥬피터의 매직라인 셀에는 내가 원하는 것 말고는 넣지 말자.


```python
pd.read_csv('sample1.csv')
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>c1</th>
      <th>c2</th>
      <th>c3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1.11</td>
      <td>one</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2.22</td>
      <td>two</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>3.33</td>
      <td>three</td>
    </tr>
  </tbody>
</table>
</div>




```python
%%writefile sample2.csv
c1,c2,c3
1,1.11,one
2,2.22,two
3,3.33,three

```

    Overwriting sample2.csv



```python
## 칼럼의 이름을 지정해 줄 수 있다. 옆에 name을 지정해주자.
pd.read_csv('sample2.csv', names = ['c1', 'c2', 'c3'])
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>c1</th>
      <th>c2</th>
      <th>c3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>c1</td>
      <td>c2</td>
      <td>c3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1.11</td>
      <td>one</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>2.22</td>
      <td>two</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>3.33</td>
      <td>three</td>
    </tr>
  </tbody>
</table>
</div>




```python
## index의 이름을 지정해주는 방법 index_col를 지정해준다.
pd.read_csv('sample1.csv', index_col = 'c1')
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>c2</th>
      <th>c3</th>
    </tr>
    <tr>
      <th>c1</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1.11</td>
      <td>one</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.22</td>
      <td>two</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.33</td>
      <td>three</td>
    </tr>
  </tbody>
</table>
</div>




```python
%%writefile sample3.txt
c1      c2         c3        c4
0.1791 1.234     2.3243   0.4535
1.2322 0.234     0.2312   0.1231
```

    Overwriting sample3.txt



```python
## txt 파일을 읽어들어올 때는 read_table을 사용한다. 옵션 중에 sep은 구분자를 지정해 주는 것인데 정규표현식 \s+는 모든 공백들을 구분자로 사용하라는 뜻이다.
pd.read_table('sample3.txt', sep = '\s+')
```

    c:\users\administrator\appdata\local\programs\python\python35\lib\site-packages\ipykernel_launcher.py:2: FutureWarning: read_table is deprecated, use read_csv instead.






<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>c1</th>
      <th>c2</th>
      <th>c3</th>
      <th>c4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.1791</td>
      <td>1.234</td>
      <td>2.3243</td>
      <td>0.4535</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.2322</td>
      <td>0.234</td>
      <td>0.2312</td>
      <td>0.1231</td>
    </tr>
  </tbody>
</table>
</div>




```python
%%writefile sample4.txt
c1,c2,c3
1,1.11,one
2,2.22,two
3,3.33,three
```

    Overwriting sample4.txt



```python
pd.read_csv('sample4.txt', skiprows = [0,1])
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2</th>
      <th>2.22</th>
      <th>two</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3</td>
      <td>3.33</td>
      <td>three</td>
    </tr>
  </tbody>
</table>
</div>




```python
%%writefile sample5.csv
c1,c2,c3
1,1.11,one
2,2.22,two
누락,3.33,three
```

    Overwriting sample5.csv



```python
## 내가 원하는 항목이 있는 곳을 nan으로 표시하고 싶을 때
df = pd.read_csv('sample5.csv', na_values = ['누락'])

df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>c1</th>
      <th>c2</th>
      <th>c3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1.11</td>
      <td>one</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2.22</td>
      <td>two</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>3.33</td>
      <td>three</td>
    </tr>
  </tbody>
</table>
</div>




```python
## csv로 파일 출력(저장)
##기본
df.to_csv('sample6.csv') ## 데이터프레임을 이제 저장할 때 사용한다.

## 항목들의 구분자로 |를 넣겠다.
df.to_csv('sample7.txt', sep = '|')

## nan 값을 누락이라고 쓰고 싶을 때는 na_rep를 쓴다.
df.to_csv('sample8.txt', na_rep = '누락')

## index와 column을 삭제 하고 싶으면 index와 header 옵션값을 flase로 설정.
df.to_csv('sample9.csv', index = False, header = False)
```

## 인터넷 상의 csv파일 입력
https://pandas-datareader.readthedocs.io/en/latest/index.ht 데이터셋 받을 수 있는 깃허브 사이트


https://fred.stlouisfed.org/series/GDP   국가 총 생산  
https://fred.stlouisfed.org/series/CPIAUCSL  소비자 가격지수  
https://fred.stlouisfed.org/series/CPILFESL  식료품 및 연료를 제외한 소비자 가격 지수  




```python
import sys

sys.path.remove('c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\lib\\site-packages',)
sys.path
```




    ['c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\python35.zip',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\DLLs',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\lib',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35',
     '',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\IPython\\extensions',
     'C:\\Users\\Administrator\\.ipython',
     'C:\\sers\\Administrator\\Desktop\\python package\\python_env\\Lib\\site-packages']




```python
import pandas_datareader as pdr
## 데이터를 인터넷에서 바로 불러들일 때 사용하는 모듈
gdp = pdr.get_data_fred('gdp') ## gdp 데이터를 긁어 와라
## 열을 기준으로
```


```python
gdp
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gdp</th>
    </tr>
    <tr>
      <th>DATE</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2010-01-01</th>
      <td>14721.350</td>
    </tr>
    <tr>
      <th>2010-04-01</th>
      <td>14926.098</td>
    </tr>
    <tr>
      <th>2010-07-01</th>
      <td>15079.917</td>
    </tr>
    <tr>
      <th>2010-10-01</th>
      <td>15240.843</td>
    </tr>
    <tr>
      <th>2011-01-01</th>
      <td>15285.828</td>
    </tr>
    <tr>
      <th>2011-04-01</th>
      <td>15496.189</td>
    </tr>
    <tr>
      <th>2011-07-01</th>
      <td>15591.850</td>
    </tr>
    <tr>
      <th>2011-10-01</th>
      <td>15796.460</td>
    </tr>
    <tr>
      <th>2012-01-01</th>
      <td>16019.758</td>
    </tr>
    <tr>
      <th>2012-04-01</th>
      <td>16152.257</td>
    </tr>
    <tr>
      <th>2012-07-01</th>
      <td>16257.151</td>
    </tr>
    <tr>
      <th>2012-10-01</th>
      <td>16358.863</td>
    </tr>
    <tr>
      <th>2013-01-01</th>
      <td>16569.591</td>
    </tr>
    <tr>
      <th>2013-04-01</th>
      <td>16637.926</td>
    </tr>
    <tr>
      <th>2013-07-01</th>
      <td>16848.748</td>
    </tr>
    <tr>
      <th>2013-10-01</th>
      <td>17083.137</td>
    </tr>
    <tr>
      <th>2014-01-01</th>
      <td>17102.932</td>
    </tr>
    <tr>
      <th>2014-04-01</th>
      <td>17425.766</td>
    </tr>
    <tr>
      <th>2014-07-01</th>
      <td>17719.836</td>
    </tr>
    <tr>
      <th>2014-10-01</th>
      <td>17838.454</td>
    </tr>
    <tr>
      <th>2015-01-01</th>
      <td>17970.422</td>
    </tr>
    <tr>
      <th>2015-04-01</th>
      <td>18221.299</td>
    </tr>
    <tr>
      <th>2015-07-01</th>
      <td>18331.093</td>
    </tr>
    <tr>
      <th>2015-10-01</th>
      <td>18354.372</td>
    </tr>
    <tr>
      <th>2016-01-01</th>
      <td>18409.130</td>
    </tr>
    <tr>
      <th>2016-04-01</th>
      <td>18640.732</td>
    </tr>
    <tr>
      <th>2016-07-01</th>
      <td>18799.648</td>
    </tr>
    <tr>
      <th>2016-10-01</th>
      <td>18979.245</td>
    </tr>
    <tr>
      <th>2017-01-01</th>
      <td>19162.550</td>
    </tr>
    <tr>
      <th>2017-04-01</th>
      <td>19359.123</td>
    </tr>
    <tr>
      <th>2017-07-01</th>
      <td>19588.074</td>
    </tr>
    <tr>
      <th>2017-10-01</th>
      <td>19831.829</td>
    </tr>
    <tr>
      <th>2018-01-01</th>
      <td>20041.047</td>
    </tr>
    <tr>
      <th>2018-04-01</th>
      <td>20411.924</td>
    </tr>
    <tr>
      <th>2018-07-01</th>
      <td>20658.204</td>
    </tr>
    <tr>
      <th>2018-10-01</th>
      <td>20865.140</td>
    </tr>
  </tbody>
</table>
</div>




```python
## 여러 데이터들을 불러올 때 , 열을 기준으로 해당 데이터가 출력된다.
inflation  = pdr.get_data_fred(['CPIAUCSL', 'CPILFESL'])
inflation
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CPIAUCSL</th>
      <th>CPILFESL</th>
    </tr>
    <tr>
      <th>DATE</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2010-01-01</th>
      <td>217.488</td>
      <td>220.633</td>
    </tr>
    <tr>
      <th>2010-02-01</th>
      <td>217.281</td>
      <td>220.731</td>
    </tr>
    <tr>
      <th>2010-03-01</th>
      <td>217.353</td>
      <td>220.783</td>
    </tr>
    <tr>
      <th>2010-04-01</th>
      <td>217.403</td>
      <td>220.822</td>
    </tr>
    <tr>
      <th>2010-05-01</th>
      <td>217.290</td>
      <td>220.962</td>
    </tr>
    <tr>
      <th>2010-06-01</th>
      <td>217.199</td>
      <td>221.194</td>
    </tr>
    <tr>
      <th>2010-07-01</th>
      <td>217.605</td>
      <td>221.363</td>
    </tr>
    <tr>
      <th>2010-08-01</th>
      <td>217.923</td>
      <td>221.509</td>
    </tr>
    <tr>
      <th>2010-09-01</th>
      <td>218.275</td>
      <td>221.711</td>
    </tr>
    <tr>
      <th>2010-10-01</th>
      <td>219.035</td>
      <td>221.830</td>
    </tr>
    <tr>
      <th>2010-11-01</th>
      <td>219.590</td>
      <td>222.149</td>
    </tr>
    <tr>
      <th>2010-12-01</th>
      <td>220.472</td>
      <td>222.343</td>
    </tr>
    <tr>
      <th>2011-01-01</th>
      <td>221.187</td>
      <td>222.803</td>
    </tr>
    <tr>
      <th>2011-02-01</th>
      <td>221.898</td>
      <td>223.213</td>
    </tr>
    <tr>
      <th>2011-03-01</th>
      <td>223.046</td>
      <td>223.454</td>
    </tr>
    <tr>
      <th>2011-04-01</th>
      <td>224.093</td>
      <td>223.727</td>
    </tr>
    <tr>
      <th>2011-05-01</th>
      <td>224.806</td>
      <td>224.175</td>
    </tr>
    <tr>
      <th>2011-06-01</th>
      <td>224.806</td>
      <td>224.697</td>
    </tr>
    <tr>
      <th>2011-07-01</th>
      <td>225.395</td>
      <td>225.218</td>
    </tr>
    <tr>
      <th>2011-08-01</th>
      <td>226.106</td>
      <td>225.862</td>
    </tr>
    <tr>
      <th>2011-09-01</th>
      <td>226.597</td>
      <td>226.118</td>
    </tr>
    <tr>
      <th>2011-10-01</th>
      <td>226.750</td>
      <td>226.506</td>
    </tr>
    <tr>
      <th>2011-11-01</th>
      <td>227.169</td>
      <td>226.899</td>
    </tr>
    <tr>
      <th>2011-12-01</th>
      <td>227.223</td>
      <td>227.405</td>
    </tr>
    <tr>
      <th>2012-01-01</th>
      <td>227.842</td>
      <td>227.877</td>
    </tr>
    <tr>
      <th>2012-02-01</th>
      <td>228.329</td>
      <td>228.034</td>
    </tr>
    <tr>
      <th>2012-03-01</th>
      <td>228.807</td>
      <td>228.478</td>
    </tr>
    <tr>
      <th>2012-04-01</th>
      <td>229.187</td>
      <td>228.905</td>
    </tr>
    <tr>
      <th>2012-05-01</th>
      <td>228.713</td>
      <td>229.224</td>
    </tr>
    <tr>
      <th>2012-06-01</th>
      <td>228.524</td>
      <td>229.623</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2016-10-01</th>
      <td>241.691</td>
      <td>249.103</td>
    </tr>
    <tr>
      <th>2016-11-01</th>
      <td>242.029</td>
      <td>249.599</td>
    </tr>
    <tr>
      <th>2016-12-01</th>
      <td>242.772</td>
      <td>250.029</td>
    </tr>
    <tr>
      <th>2017-01-01</th>
      <td>243.780</td>
      <td>250.629</td>
    </tr>
    <tr>
      <th>2017-02-01</th>
      <td>243.961</td>
      <td>251.065</td>
    </tr>
    <tr>
      <th>2017-03-01</th>
      <td>243.749</td>
      <td>250.873</td>
    </tr>
    <tr>
      <th>2017-04-01</th>
      <td>244.051</td>
      <td>251.106</td>
    </tr>
    <tr>
      <th>2017-05-01</th>
      <td>243.962</td>
      <td>251.330</td>
    </tr>
    <tr>
      <th>2017-06-01</th>
      <td>244.182</td>
      <td>251.689</td>
    </tr>
    <tr>
      <th>2017-07-01</th>
      <td>244.390</td>
      <td>251.992</td>
    </tr>
    <tr>
      <th>2017-08-01</th>
      <td>245.297</td>
      <td>252.580</td>
    </tr>
    <tr>
      <th>2017-09-01</th>
      <td>246.418</td>
      <td>252.979</td>
    </tr>
    <tr>
      <th>2017-10-01</th>
      <td>246.587</td>
      <td>253.534</td>
    </tr>
    <tr>
      <th>2017-11-01</th>
      <td>247.332</td>
      <td>253.887</td>
    </tr>
    <tr>
      <th>2017-12-01</th>
      <td>247.901</td>
      <td>254.445</td>
    </tr>
    <tr>
      <th>2018-01-01</th>
      <td>248.884</td>
      <td>255.218</td>
    </tr>
    <tr>
      <th>2018-02-01</th>
      <td>249.369</td>
      <td>255.662</td>
    </tr>
    <tr>
      <th>2018-03-01</th>
      <td>249.498</td>
      <td>256.144</td>
    </tr>
    <tr>
      <th>2018-04-01</th>
      <td>249.956</td>
      <td>256.420</td>
    </tr>
    <tr>
      <th>2018-05-01</th>
      <td>250.646</td>
      <td>256.906</td>
    </tr>
    <tr>
      <th>2018-06-01</th>
      <td>251.134</td>
      <td>257.327</td>
    </tr>
    <tr>
      <th>2018-07-01</th>
      <td>251.597</td>
      <td>257.876</td>
    </tr>
    <tr>
      <th>2018-08-01</th>
      <td>251.879</td>
      <td>258.087</td>
    </tr>
    <tr>
      <th>2018-09-01</th>
      <td>252.010</td>
      <td>258.496</td>
    </tr>
    <tr>
      <th>2018-10-01</th>
      <td>252.794</td>
      <td>259.002</td>
    </tr>
    <tr>
      <th>2018-11-01</th>
      <td>252.760</td>
      <td>259.610</td>
    </tr>
    <tr>
      <th>2018-12-01</th>
      <td>252.723</td>
      <td>260.078</td>
    </tr>
    <tr>
      <th>2019-01-01</th>
      <td>252.673</td>
      <td>260.701</td>
    </tr>
    <tr>
      <th>2019-02-01</th>
      <td>253.113</td>
      <td>260.989</td>
    </tr>
    <tr>
      <th>2019-03-01</th>
      <td>254.148</td>
      <td>261.374</td>
    </tr>
  </tbody>
</table>
<p>111 rows × 2 columns</p>
</div>



## 고급 인덱싱 기법
- loc[]
- iloc[]
- at[]
- iat[]


## loc  
라벨값 기반의 2차원 인덱싱을 지원하는 인덱서

행을 기준으로 뽑을 때는 슬라이싱으로 뽑는 불편함이 있었는데 이를 보완하는 것이라고 보면 될 것 같다.


```python
import numpy as np
import pandas as pd
```


```python
## 데이터프레임 지정
np.arange(10,22).reshape(3,4)
df = pd.DataFrame(np.arange(10,22).reshape(3,4), index = ['a', 'b', 'c'], columns = ['A', 'B', 'C' ,'D'])
```


```python
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>10</td>
      <td>11</td>
      <td>12</td>
      <td>13</td>
    </tr>
    <tr>
      <th>b</th>
      <td>14</td>
      <td>15</td>
      <td>16</td>
      <td>17</td>
    </tr>
    <tr>
      <th>c</th>
      <td>18</td>
      <td>19</td>
      <td>20</td>
      <td>21</td>
    </tr>
  </tbody>
</table>
</div>




```python
## loc은 열을 뽑아준다.
df.loc['a']
```




    A    10
    B    11
    C    12
    D    13
    Name: a, dtype: int32




```python
#A열의 값이 15보다 큰지 작은지 알 필요가 있을 때
df.A >15

## 열을 기준으로 A의 값이 15보다 큰 열만 뽑아준다.
df.loc[df.A>15]


```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>c</th>
      <td>18</td>
      <td>19</td>
      <td>20</td>
      <td>21</td>
    </tr>
  </tbody>
</table>
</div>




```python
## 인덱싱 값을 행과 열 모두 받는 경우
## 기본 인덱싱으로 할 경우 열을 먼저 받음
display(df['A']['b'])

## loc을 이용해서 받을 때
display(df.loc['b','A'])  ## 행을 먼저 하고 한 대괄호 안에서 만든다.

## 여러 열, 여러 행을 추출할 때는 세미콜론을 사용한다.
display(df.loc['b':,"A"])

## 특정 열, 행을 지정하고 싶으면 ,를 사용한다.

```


    14



    14



    b    14
    c    18
    Name: A, dtype: int32


## iloc
loc인덱서와는 반대로 라벨이 아니라 순서를 나타내는 정수 인덱스만 받는다.


```python
## 첫번째 행과 두번째 열에 있는 숫자를 뽑아보자.
df.iloc[0,1] ## 행으로 먼저 시작하고, 대괄호 안에서 넣는다.

## 슬라이싱을 통해서 여러 행, 열을 뽑을 수 있다.
df.iloc[2:3, 1:3]
## 신기한 점은 뽑을 때 슬라이싱을 해서 뽑으면 데이터프레임으로 나오고 , 그냥 한 행 혹은 열만을 가지고 뽑으면 시리즈로 나온다.
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>c</th>
      <td>19</td>
      <td>20</td>
    </tr>
  </tbody>
</table>
</div>



## at, iat



```python
## at은 행을 첫 기준으로 하고  특정 값만을 도출해 줄때 특정값이 iloc, loc보다 훨씬 빠르다.

df.iloc[1,2]
df.iat[1,2]
```




    16



## 데이터 조작


```python
# 데이터 갯수 세기, count함수 사용.
s = pd.Series(range(10))
s.count()

## 만약 한 데이터를 nan값으로 만들면 nan값은 count함수에서 세지 않는다.
s[3] = np.nan
s
s.count()

## 데이터프레임을 count한다면 칼럼별로 갯수들을 모두 알려준다.
np.random.seed(2)
df = pd.DataFrame(np.random.randint(5,size = (4,4)), dtype = float)
df.count()

```




    0    4
    1    4
    2    4
    3    4
    dtype: int64




```python
import sys
sys.path.append('C:\\Users\\Administrator\\Desktop\\python package\\python_env\\Lib\\site-packages')
sys.path
```




    ['C:\\Users\\Administrator\\Anaconda2',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\python35.zip',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\DLLs',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\lib',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35',
     '',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\lib\\site-packages',
     'c:\\users\\administrator\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\IPython\\extensions',
     'C:\\Users\\Administrator\\.ipython',
     'C:\\Users\\Administrator\\Desktop\\python package\\python_env\\Lib\\site-packages',
     'C:\\Users\\Administrator\\Desktop\\python package\\python_env\\Lib\\site-packages']




```python
#타이타닉 데이터를 가지고 와서 데이터를 세어보자.
import seaborn as sns
titanic = sns.load_dataset('titanic')
titanic.count()
```




    survived       891
    pclass         891
    sex            891
    age            714
    sibsp          891
    parch          891
    fare           891
    embarked       889
    class          891
    who            891
    adult_male     891
    deck           203
    embark_town    889
    alive          891
    alone          891
    dtype: int64




```python
## 카테고리 값의 갯수를 세보자

np.random.seed(1)
s2 = pd.Series(np.random.randint(6,size = 100))

## head 함수 데이터프레임의 앞에 5개의 행만 보여주는 함수
s2.head()

# value_counts함수 데이터 프레임이 가지고 있는 데이터들을 전부 보여주고 그 각각의 데이터가 몇 개씩 있는지도 알려줌.
s2.value_counts()
```




    1    22
    0    18
    4    17
    5    16
    3    14
    2    13
    dtype: int64
